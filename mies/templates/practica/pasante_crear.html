{% extends 'base_generic.html' %}
{% load static %}
{% block title %}NUEVO PASANTE{% endblock %}


{% block content_main %}
<!-- Page Heading -->
<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="{% url 'dashboard' %}">Home</a></li>
        <li class="breadcrumb-item"><a href="{% url 'pasante_listar' %}">NÃ³mina de Pasantes</a></li>
        <li class="breadcrumb-item active" aria-current="page">Nuevo</li>
    </ol>
</nav>

<div class="container">

    {% if form.errors %}

    <div class="alert alert-danger" role="alert">
        <h5 class="icon fas fa-bin">Error al guardar el registro!</h5>
        <ul>
            {% for field in form %}
            {% for error in field.errors %}
            <li>
                {{error}}
            </li>
            {% endfor %}
            {% endfor %}
        </ul>

    </div>
    {% endif %}

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}

        <div class="row">
            <div class="form-group col-md-6">
                {{form.nombres.label}}
                {{form.nombres}}
            </div>
            <div class="form-group col-md-6">
                {{form.apellidos.label}}
                {{form.apellidos}}
            </div>
        </div>
        <div class="row">
            <div class="form-group col-md-6">
                {{form.cedula.label}}
                {{form.cedula}}
            </div>
            <div class="form-group col-md-6">
                {{form.telefono.label}}
                {{form.telefono}}
            </div>
        </div>
        <div class="row">
            <div class="form-group col-md-6">
                {{form.tutor_profesional.label}}
                {{form.tutor_profesional}}
            </div>
            <div class="form-group col-md-6">
                {{form.horas_diarias.label}}
                {{form.horas_diarias}}
            </div>

            

        </div>
        <div class="row">
            <div class="form-group col-md-6">
                
                <label for="id_universidad">Universidad</label>
                <select name="universidad" id="id_universidad" class="form-control select">
                    <option value="0">---------</option>

                    {% for item in universidades %}
                    <option value="{{item.id}}">{{item.descripcion}}</option>
                    {% endfor %}

                </select>
            </div>
           
            <div class="form-group col-md-6">
                <label for="id_carrera">Carrera</label>
                <select name="carrera" id="id_carrera" class="form-control select">
                    <option value="0">---------</option>
                    {% for item in carreras %}
                    <option value="{{item.id}}" class="{{item.universidad.id}}">{{item.descripcion}}</option>
                    {% endfor %}
                </select>
            </div>

        </div>

        <div class="row">
            <div class="form-group col-md-6">
                {{form.fecha_inicio.label}}
                {{form.fecha_inicio}}
            </div>
            <div class="form-group col-md-6">
                {{form.fecha_fin.label}}
                {{form.fecha_fin}}
            </div>
            

        </div>

        <div class="row mt-3">
            <div class="form-group">
                <div class="form-check">
                    {{form.estado.label}}
                    {{form.estado}}
                </div>
            </div>
        </div>

        <fieldset class="modal-footer">
            <a type="button" class="btn btn-secondary" href="{% url 'pasante_listar' %}">Cancelar</a>
            <button type="submit" class="btn  btn-primary">Guardar Registro</button>
        </fieldset>
    </form>
</div>

{% endblock %}

{% block content_extra_js %}

<script>
    $(function () {
        $('#id_carrera').select2();
        $('#id_tutor_profesional').select2();
        $("#id_carrera").chained("#id_universidad");
    });

</script>
<script src="{% static 'js/jquery.chained.min.js' %}"></script>

{% endblock content_extra_js %}